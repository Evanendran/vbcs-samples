{
    "pageModelVersion": "0.9.8",
    "title": "Register Partner",
    "description": "Creates new Partners",
    "variables": {
        "partners": {
            "type": "application:create_partnersRequest"
        }
    },
    "chains": {
        "goBackChain": {
            "root": "navigateBack",
            "actions": {
                "navigateBack": {
                    "module": "vb/action/builtin/navigateBackAction",
                    "outcomes": {
                        "success": ""
                    }
                }
            }
        },
        "createPartnersChain": {
            "root": "createPartners",
            "actions": {
                "createPartners": {
                    "module": "vb/action/builtin/restAction",
                    "parameters": {
                        "endpoint": "Partner/create_partners",
                        "body": "{{ $page.variables.partners }}"
                    },
                    "outcomes": {
                        "success": "fireSuccessNotification",
                        "failure": "fireErrorNotification"
                    }
                },
                "fireSuccessNotification": {
                    "module": "vb/action/builtin/fireNotificationAction",
                    "parameters": {
                        "message": "Partners record successfully created",
                        "type": "info",
                        "displayMode": "short"
                    },
                    "outcomes": {
                        "success": "navigateBack"
                    }
                },
                "fireErrorNotification": {
                    "module": "vb/action/builtin/fireNotificationAction",
                    "parameters": {
                        "message": "Could not save: [{{ $chain.results.createPartners.status }}]",
                        "type": "error",
                        "displayMode": "persistent"
                    },
                    "outcomes": {}
                },
                "navigateBack": {
                    "module": "vb/action/builtin/navigateBackAction",
                    "outcomes": {
                        "success": ""
                    }
                }
            }
        }
    },
    "eventListeners": {
        "backButtonClicked": {
            "chains": [
                {
                    "chainId": "goBackChain"
                }
            ]
        },
        "saveButtonClicked": {
            "chains": [
                {
                    "chainId": "createPartnersChain"
                }
            ]
        }
    },
    "imports": {
        "components": {
            "oj-form-layout": {
                "path": "ojs/ojformlayout"
            }
        }
    }
}